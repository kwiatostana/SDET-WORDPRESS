# **WordPress Suite тест-кейсы подготовка тестовых данных в БД**

**Тестируемый проект:** Локальный WordPress  
**Инструменты:** Python (Requests, Pytest, Xdist, Ruff), MySQL Connector

### **1\. Позитивные сценарии**

**TC\_D2\_001: Получение стандартного поста, созданного напрямую через SQL (Smoke)**

**Цель:** Проверить, что API корректно возвращает данные стандартного поста, добавленного напрямую в таблицу wp\_posts.  
**Предусловие:**

1. HTTP-клиент с авторизацией Basic Auth (права администратора) настроен.  
2.  В БД есть запись, созданная напрямую через SQL, с данными:  
   * post\_title: "DB Auto Title \[UUID\]"  
   * post\_content: "DB Auto Content Body"  
   * post\_status: "publish"  
   * post\_author: 1  
3. ID созданной записи сохранено.

**Шаги:**

1. Отправить GET запрос на /wp/v2/posts/{id}, используя сохраненный ID.

**Ожидаемые результаты:**  
**Шаг 1:**

* Код ответа: 200 OK.  
* В теле ответа поле id совпадает с ID из БД.  
* Поле title.raw совпадает с "DB Auto Title \[UUID\]".  
* Поле content.raw совпадает с "DB Auto Content Body".  
* Поле status равно "publish".

**Пример тела ответа:**

   *{*

    *"id": 105,*

    *"status": "publish",*

    *"title": {*

        *"raw": "DB Auto Title"*

    *},*

    *"content": {*

        *"raw": "DB Auto Content Body"*

    *}*

*}* 

**Постусловие:**

Удалить запись из БД прямым SQL-запросом: DELETE FROM wp\_posts WHERE ID \= {id}.

**TC\_D2\_002: Получение поста, созданного напрямую через SQL, с русским текстом**  
**Цель:** Проверить, что при вставке данных на русском языке напрямую в БД, API возвращает их корректно.  
**Предусловие:**

1. HTTP-клиент с авторизацией Basic Auth (права администратора) настроен.  
2.  В БД есть запись, созданная напрямую через SQL, с данными:  
   * post\_title: "Тестовый Заголовок на Русском \[UUID\]"  
   * post\_content: "Содержание статьи с буквами: ё, й, щ, ъ."  
   * post\_status: "publish"  
3. ID созданной записи сохранено.

**Шаги:**

1. Отправить GET запрос на /wp/v2/posts/{id}.

**Ожидаемые результаты:**  
**Шаг 1:**

* Код ответа: 200 OK.  
* В теле ответа поле id совпадает с ID из БД.  
* Поле title.raw строго равно "Тестовый Заголовок на Русском \[UUID\]".  
* Поле content.raw строго равно "Содержание статьи с буквами: ё, й, щ, ъ.".

**Пример тела ответа:**

   *{*

    *"id": 106,*

    *"title": {*

        *"raw": "Тестовый Заголовок на Русском \[UUID\]"*

    *},*

    *"content": {*

        *"raw": "Содержание статьи с буквами: ё, й, щ, ъ."*

    *}*

*}*

**Постусловие:**

1. Удалить запись из БД прямым SQL-запросом: DELETE FROM wp\_posts WHERE ID \= {id}.

**TC\_D2\_003: Получение поста, созданного напрямую через SQL, с пустым заголовком**  
**Цель:** Проверить обработку API поста, который был создан в БД с пустой строкой в качестве заголовка..  
**Предусловие:**

1. HTTP-клиент с авторизацией Basic Auth (права администратора) настроен.  
2.  В БД есть запись, созданная напрямую через SQL, с данными:  
   * post\_title: ""  
   * post\_content: "Content with empty title \[UUID\]"  
   * post\_status: "publish"  
3. ID созданной записи сохранено.

**Шаги:**

1. Отправить GET запрос на /wp/v2/posts/{id}.

**Ожидаемые результаты:**  
**Шаг 1:**

* Код ответа: 200 OK.  
* В теле ответа поле id совпадает с ID из БД.  
* Поле title.raw является пустой строкой "".  
* Поле content.raw соответствует введенному контенту.

**Пример тела ответа:**

   *{*

    *"id": 107,*

    *"title": {*

        *"raw": ""*

    *},*

    *"content": {*

        *"raw": "Content with empty title \[UUID\]"*

    *}*

*}*

**Постусловие:**

Удалить запись из БД прямым SQL-запросом: DELETE FROM wp\_posts WHERE ID \= {id}.